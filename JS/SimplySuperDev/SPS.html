<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Stone | Paper | Scissor</h1>
    <button onclick="GameResult('Stone')">Stone</button>
    <button onclick="GameResult('Paper')">Paper</button>
    <button onclick="GameResult('Scissor')">Scissor</button>
    <button onclick="let score={Win:0,Loose:0,Tie:0}   
    localStorage.setItem('score',JSON.stringify(score)); alert('Value reseted')">Reset Score</button>

    <script>     
        function computerMoveFunct()
        {  
           let randomMove=Math.random();   
           if(randomMove>=0 && randomMove<1/3)
            {
                return 'Stone';
            }
            else if(randomMove>=1/3 &&randomMove<2/3)
            {
                return 'Paper';
            }
            else
            {
                return 'Scissor';
            }
        }

        function GameResult(playerMove)
        {
        let computerMove=computerMoveFunct();
           
        let result='';
        // JSON.parse coverts the JSON string into the Javascript Object 
        // This step take the old value stored in the local storage is not exist this will return null that's why we use the ||(OR operator) to print the value of win,loose & tie as '0'
        let score=JSON.parse(localStorage.getItem('score')) || {Win:0,Loose:0,Tie:0};
       
            if(playerMove ==='Stone')
            {
                if(computerMove === 'Stone')
                {
                    result='Tie';
                }
                else if(computerMove === 'Paper')
                {
                    result='Loose';
                }
                else if(computerMove === 'Scissor')
                {
                    result='Win';
                }
            }
            else if(playerMove ==='Paper')
            {
                if(computerMove === 'Stone')
                {
                    result='Win';
                }
                else if(computerMove === 'Paper')
                {
                    result='Tie';
                }
                else if(computerMove === 'Scissor')
                {
                    result='Loose'
                }
            }
            else if(playerMove ==='Scissor')
            {
                if(computerMove ==='Stone')
                {
                    result='Loose';
                }
                else if(computerMove ==='Paper')
                {
                    result='Win';
                }
                else if(computerMove ==='Scissor')
                {
                    result='Tie'
                }
            } 

            if(result==='Win')
            {
                score.Win+=1;
            }
            else if(result==='Loose')
            {
                score.Loose+=1;
            }
            else if(result==='Tie')
            {
                score.Tie+=1;
            }
          
            localStorage.setItem('score',JSON.stringify(score));
        
        alert(`Your Move ${playerMove} || Computer Move ${computerMove} 
        Result:${result} 
        Win:${score.Win} 
        Loose: ${score.Loose}
        Tie : ${score.Tie}`)      
        }

       
    </script>
</body>
</html>